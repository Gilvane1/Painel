<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Chamada de Senhas - Cl√≠nica ULTRAVIDA</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üè•</text></svg>">
</head>
<body>
    <!-- Tela de Login -->
    <div class="login-screen" id="loginScreen">
        <div class="login-container">
            <div class="login-header">
                <div class="logo-container">
                    <div class="logo-icon">
                        <img src="logo_ultravida.jpg" alt="Cl√≠nica Ultravida Logo" class="new-logo-img">
                    </div>
                    <h1 class="clinic-name">CL√çNICA ULTRAVIDA</h1>
                    <p class="clinic-subtitle">Sistema de Chamada de Senhas</p>
                </div>
            </div>
            
            <div class="login-form">
                <div class="form-group">
                    <label for="username">Usu√°rio:</label>
                    <input type="text" id="username" placeholder="Digite seu usu√°rio" required>
                </div>
                <div class="form-group">
                    <label for="password">Senha:</label>
                    <div class="password-container">
                        <input type="password" id="password" placeholder="Digite sua senha" required>
                        <button type="button" class="password-toggle" onclick="togglePassword()">
                            <span id="eyeIcon">üëÅÔ∏è</span>
                        </button>
                    </div>
                </div>
                <button type="button" class="btn-login" onclick="login()">
                    <span class="btn-text">ENTRAR</span>
                    <div class="btn-glow"></div>
                </button>
            </div>
            
            <div class="login-footer">
                <p>Desenvolvedor: TI Gilvane C Benavenuto</p>
                <p>86 99911 7717</p>
            </div>
        </div>
        
        <!-- Part√≠culas de fundo -->
        <div class="particles">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
        </div>
    </div>

    <!-- Sistema Principal -->
    <div class="main-system" id="mainSystem" style="display: none;">
        <!-- Header Futurista -->
        <header class="futuristic-header">
            <div class="header-content">
                <div class="clinic-info">
                    <div class="clinic-logo">
                        <div class="logo-pulse">
                            <img src="logo_ultravida.jpg" alt="Cl√≠nica Ultravida Logo" class="new-logo-img">
                        </div>
                        <div class="clinic-details">
                            <h1 class="clinic-title">CL√çNICA ULTRAVIDA</h1>
                            <p class="clinic-location">Piracuruca ‚Ä¢ (86) 99985-2080 ‚Ä¢ Rua Senador Gerv√°sio, Centro</p>
                        </div>
                    </div>
                </div>
                
                <div class="header-status">
                    <div class="time-display">
                        <div class="time-label">HOR√ÅRIO ATUAL</div>
                        <div class="time-value" id="clock">00:00:00</div>
                    </div>
                    <div class="developer-badge">
                        <div class="dev-label">DESENVOLVEDOR</div>
                        <div class="dev-name">TI Gilvane C Benavenuto</div>
                        <div class="dev-contact">86 99911 7717</div>
                    </div>
                </div>
            </div>
            
            <!-- Linha de energia -->
            <div class="energy-line"></div>
        </header>

        <!-- Letreiro Digital -->
        <div class="digital-marquee-container">
            <div class="digital-marquee" id="digitalMarquee"></div>
        </div>

        <!-- √Årea Principal -->
        <main class="main-content">
            <!-- Painel de Senha Atual -->
            <section class="current-call-panel">
                <div class="panel-header">
                    <h2 class="panel-title">CHAMADA ATUAL</h2>
                    <div class="status-indicator active"></div>
                </div>
                
                <div class="call-display">
                    <div class="patient-name-display" id="currentPatient">---</div>
                    <div class="call-details">
                        <div class="detail-item">
                            <span class="detail-label">PROFISSIONAL:</span>
                            <span class="detail-value" id="currentProfessional">---</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">LOCAL:</span>
                            <span class="detail-value" id="currentOffice">---</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">TIPO:</span>
                            <span class="detail-value" id="currentServiceType">---</span>
                        </div>
                        <div class="detail-item" id="currentExamDetail" style="display: none;">
                            <span class="detail-label">EXAME:</span>
                            <span class="detail-value" id="currentExam">---</span>
                        </div>
                    </div>
                </div>
                
                <!-- Efeitos visuais -->
                <div class="hud-elements">
                    <div class="hud-corner top-left"></div>
                    <div class="hud-corner top-right"></div>
                    <div class="hud-corner bottom-left"></div>
                    <div class="hud-corner bottom-right"></div>
                </div>
            </section>

            <!-- Bot√µes de Chamada R√°pida -->
            <section class="quick-call-buttons">
                <button class="quick-call-btn" onclick="passwordSystem.callNextAvailablePatient()">CHAMAR PR√ìXIMO</button>
                <button class="quick-call-btn" onclick="passwordSystem.callPreviousPatient()">CHAMAR ANTERIOR</button>
                <button class="quick-call-btn" onclick="passwordSystem.callUrgentPatient()">CHAMAR URGENTE</button>
            </section>

            <!-- Painel de Chamadas Avan√ßadas -->
            <section class="advanced-call-panel">
                <div class="section-header">
                    <h3 class="section-title">CHAMADAS AVAN√áADAS</h3>
                    <div class="section-line"></div>
                </div>
                
                <div class="advanced-call-container">
                    <!-- Sele√ß√£o de Consult√≥rio -->
                    <div class="call-filter-group">
                        <label for="officeSelector" class="filter-label">Consult√≥rio:</label>
                        <select id="officeSelector" class="office-selector">
                            <option value="">Todos os Consult√≥rios</option>
                            <!-- Op√ß√µes ser√£o carregadas dinamicamente -->
                        </select>
                    </div>
                    
                    <!-- Filtros de Prioridade -->
                    <div class="call-filter-group">
                        <label class="filter-label">Filtros de Prioridade:</label>
                        <div class="priority-filters">
                            <button class="filter-btn emergency-btn" onclick="passwordSystem.callEmergencyPatient()">
                                <span class="filter-icon">üö®</span>
                                <span class="filter-text">EMERG√äNCIA</span>
                            </button>
                            <button class="filter-btn urgent-btn" onclick="passwordSystem.callUrgentFromSelected()">
                                <span class="filter-icon">‚ö°</span>
                                <span class="filter-text">URGENTE</span>
                            </button>
                            <button class="filter-btn priority-btn" onclick="passwordSystem.callPriorityFromSelected()">
                                <span class="filter-icon">‚≠ê</span>
                                <span class="filter-text">PRIORIT√ÅRIO</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Filtros de Tipo de Atendimento -->
                    <div class="call-filter-group">
                        <label class="filter-label">Filtros por Tipo:</label>
                        <div class="type-filters">
                            <button class="filter-btn exam-btn" onclick="passwordSystem.callNextExam()">
                                <span class="filter-icon">üî¨</span>
                                <span class="filter-text">EXAMES</span>
                            </button>
                            <button class="filter-btn consultation-btn" onclick="passwordSystem.callNextConsultation()">
                                <span class="filter-icon">üë©‚Äç‚öïÔ∏è</span>
                                <span class="filter-text">CONSULTAS</span>
                            </button>
                            <button class="filter-btn procedure-btn" onclick="passwordSystem.callNextProcedure()">
                                <span class="filter-icon">üè•</span>
                                <span class="filter-text">PROCEDIMENTOS</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Bot√£o de Chamada por Consult√≥rio -->
                    <div class="call-filter-group">
                        <button class="call-office-btn" onclick="passwordSystem.callNextFromSelectedOffice()">
                            <span class="btn-icon">üì¢</span>
                            <span class="btn-text">CHAMAR DO CONSULT√ìRIO SELECIONADO</span>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Hist√≥rico de Chamadas -->
            <section class="call-history">
                <div class="section-header">
                    <h3 class="section-title">√öLTIMAS CHAMADAS</h3>
                    <div class="section-line"></div>
                </div>
                
                <div class="history-container" id="recentCalls">
                    <div class="no-calls">Nenhuma chamada realizada ainda</div>
                </div>
            </section>

            <!-- Grid de Consult√≥rios -->
            <section class="offices-grid">
                <div class="section-header">
                    <h3 class="section-title">CONSULT√ìRIOS</h3>
                    <div class="section-line"></div>
                </div>
                
                <div class="offices-container" id="officesContainer">
                    <!-- Consult√≥rios ser√£o inseridos dinamicamente -->
                </div>
            </section>
        </main>

        <!-- Barra de Controle Inferior -->
        <footer class="control-bar">
            <div class="control-content">
                <button class="control-btn config-btn" onclick="passwordSystem.openConfigPanel()">
                    <div class="btn-icon">‚öôÔ∏è</div>
                    <span class="btn-label">CONFIGURA√á√ïES</span>
                    <div class="btn-pulse"></div>
                </button>
                
                <button class="control-btn logout-btn" onclick="logout()">
                    <div class="btn-icon">üö™</div>
                    <span class="btn-label">SAIR</span>
                    <div class="btn-pulse"></div>
                </button>
            </div>
        </footer>
    </div>

    <!-- Modal de Configura√ß√µes -->
    <div class="modal-overlay" id="configModal" style="display: none;">
        <div class="modal-container">
            <div class="modal-header">
                <h2>CONFIGURA√á√ïES DO SISTEMA</h2>
                <button class="modal-close" onclick="passwordSystem.closeConfigPanel()">‚úï</button>
            </div>
            
            <div class="modal-tabs">
                <button class="tab-btn active" data-tab="patients" onclick="passwordSystem.switchTab('patients')">PACIENTES</button>
                <button class="tab-btn" data-tab="offices" onclick="passwordSystem.switchTab('offices')">CONSULT√ìRIOS</button>
                <button class="tab-btn" data-tab="services" onclick="passwordSystem.switchTab('services')">TIPOS DE ATENDIMENTO</button>
                <button class="tab-btn" data-tab="settings" onclick="passwordSystem.switchTab('settings')">CONFIGURA√á√ïES</button>
            </div>
            
            <div class="modal-content">
                <!-- Aba Pacientes -->
                <div class="tab-content active" id="patientsTab">
                    <h3>Adicionar Paciente</h3>
                    <form id="patientForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="patientName">Nome do Paciente:</label>
                                <input type="text" id="patientName" required>
                            </div>
                            <div class="form-group">
                                <label for="patientOffice">Consult√≥rio:</label>
                                <select id="patientOffice" required>
                                    <option value="">Selecione...</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="patientPriority">Prioridade:</label>
                                <select id="patientPriority">
                                    <option value="normal">Normal</option>
                                    <option value="priority">Priorit√°rio</option>
                                    <option value="urgent">Urgente</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="serviceType">Tipo de Atendimento:</label>
                                <select id="serviceType" onchange="passwordSystem.toggleExamField()">
                                    <!-- Op√ß√µes ser√£o carregadas dinamicamente -->
                                </select>
                            </div>
                        </div>
                        <div class="form-row" id="examField" style="display: none;">
                            <div class="form-group full-width">
                                <label for="examType">Tipo de Exame:</label>
                                <input type="text" id="examType" placeholder="Ex: Raio-X, Ultrassom, etc.">
                            </div>
                        </div>
                        <button type="submit" class="btn-primary">Adicionar Paciente</button>
                    </form>
                    
                    <div class="patients-queue" id="patientsQueue">
                        <!-- Fila de pacientes ser√° inserida aqui -->
                    </div>
                </div>
                
                <!-- Aba Consult√≥rios -->
                <div class="tab-content" id="officesTab">
                    <h3>Gerenciar Consult√≥rios</h3>
                    <form id="officeForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="officeNumber">N√∫mero:</label>
                                <input type="number" id="officeNumber" min="1" required>
                            </div>
                            <div class="form-group">
                                <label for="officeName">Nome:</label>
                                <input type="text" id="officeName" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="officeDoctor">Profissional:</label>
                                <input type="text" id="officeDoctor" required>
                            </div>
                            <div class="form-group">
                                <label for="officeColor">Cor:</label>
                                <input type="color" id="officeColor" value="#C41E3A">
                            </div>
                        </div>
                        <button type="submit" class="btn-primary">Salvar Consult√≥rio</button>
                    </form>
                    
                    <div class="offices-list" id="officesList">
                        <!-- Lista de consult√≥rios ser√° inserida aqui -->
                    </div>
                </div>
                
                <!-- Aba Tipos de Atendimento -->
                <div class="tab-content" id="servicesTab">
                    <h3>Gerenciar Tipos de Atendimento</h3>
                    <form id="serviceForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="serviceName">Nome do Tipo:</label>
                                <input type="text" id="serviceName" placeholder="Ex: Consulta, Exame, Procedimento..." required>
                            </div>
                            <div class="form-group">
                                <label for="serviceColor">Cor:</label>
                                <input type="color" id="serviceColor" value="#C41E3A">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="serviceRequiresDetails">Requer Detalhes Adicionais:</label>
                                <select id="serviceRequiresDetails">
                                    <option value="false">N√£o</option>
                                    <option value="true">Sim</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="serviceDetailsLabel">R√≥tulo dos Detalhes:</label>
                                <input type="text" id="serviceDetailsLabel" placeholder="Ex: Tipo de Exame, Procedimento...">
                            </div>
                        </div>
                        <button type="submit" class="btn-primary">Salvar Tipo de Atendimento</button>
                    </form>
                    
                    <div class="services-list" id="servicesList">
                        <!-- Lista de tipos de atendimento ser√° inserida aqui -->
                    </div>
                </div>
                
                <!-- Aba Configura√ß√µes -->
                <div class="tab-content" id="settingsTab">
                    <div class="settings-section">
                        <h3>Configura√ß√µes da Cl√≠nica</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="clinicName">Nome da Cl√≠nica:</label>
                                <input type="text" id="clinicName" value="CL√çNICA ULTRAVIDA">
                            </div>
                            <div class="form-group">
                                <label for="clinicCity">Cidade:</label>
                                <input type="text" id="clinicCity" value="Piracuruca">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="clinicPhone">Telefone:</label>
                                <input type="text" id="clinicPhone" value="(86) 99985-2080">
                            </div>
                            <div class="form-group">
                                <label for="clinicAddress">Endere√ßo:</label>
                                <input type="text" id="clinicAddress" value="Rua Senador Gerv√°sio, Centro">
                            </div>
                        </div>
                        <button type="button" class="btn-primary" onclick="passwordSystem.saveClinicInfo()">Salvar Informa√ß√µes</button>
                    </div>
                    
                    <div class="settings-section">
                        <h3>Configura√ß√µes do Letreiro</h3>
                        <div class="form-group full-width">
                            <label for="marqueeTextInput">Texto do Letreiro:</label>
                            <input type="text" id="marqueeTextInput" placeholder="Digite o texto do letreiro...">
                        </div>
                        <button type="button" class="btn-primary" onclick="passwordSystem.updateMarqueeFromInput()">Atualizar Letreiro</button>
                    </div>
                    
                    <div class="settings-section">
                        <h3>Configura√ß√µes de Som</h3>
                        <div class="form-group">
                            <label for="soundVolume">Volume do Som: <span id="volumeValue">50%</span></label>
                            <input type="range" id="soundVolume" min="0" max="100" value="50">
                        </div>
                        <button type="button" class="btn-secondary" onclick="passwordSystem.testSound()">Testar Som</button>
                    </div>
                    
                    <div class="settings-section">
                        <h3>Alterar Senha</h3>
                        <div class="form-group">
                            <label for="currentPassword">Senha Atual:</label>
                            <input type="password" id="currentPassword">
                        </div>
                        <div class="form-group">
                            <label for="newPassword">Nova Senha:</label>
                            <input type="password" id="newPassword">
                        </div>
                        <div class="form-group">
                            <label for="confirmPassword">Confirmar Nova Senha:</label>
                            <input type="password" id="confirmPassword">
                        </div>
                        <button type="button" class="btn-primary" onclick="passwordSystem.changePassword()">Alterar Senha</button>
                    </div>
                    
                    <div class="settings-section">
                        <h3>Sistema</h3>
                        <button type="button" class="btn-danger" onclick="passwordSystem.resetSystem()">Resetar Sistema</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Confirma√ß√£o -->
    <div class="modal-overlay" id="confirmModal" style="display: none;">
        <div class="confirm-container">
            <div class="confirm-header">
                <h3>Confirma√ß√£o</h3>
            </div>
            <div class="confirm-content">
                <p id="confirmMessage"></p>
            </div>
            <div class="confirm-actions">
                <button class="btn-danger" id="btnConfirm">Confirmar</button>
                <button class="btn-secondary" id="btnCancel">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Container de Notifica√ß√µes -->
    <div class="notifications-container" id="notificationsContainer"></div>

    <script src="script.js"></script>
</body>
</html>
